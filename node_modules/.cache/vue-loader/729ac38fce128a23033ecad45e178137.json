{"remainingRequest":"D:\\workspace\\code\\vscode-projects\\data-visualization\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\workspace\\code\\vscode-projects\\data-visualization\\src\\components\\map\\index.vue?vue&type=style&index=0&id=2bc4c202&scoped=true&lang=css&","dependencies":[{"path":"D:\\workspace\\code\\vscode-projects\\data-visualization\\src\\components\\map\\index.vue","mtime":1715051459858},{"path":"D:\\workspace\\code\\vscode-projects\\data-visualization\\node_modules\\css-loader\\dist\\cjs.js","mtime":1715050802002},{"path":"D:\\workspace\\code\\vscode-projects\\data-visualization\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1715050801460},{"path":"D:\\workspace\\code\\vscode-projects\\data-visualization\\node_modules\\postcss-loader\\src\\index.js","mtime":1715050800966},{"path":"D:\\workspace\\code\\vscode-projects\\data-visualization\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1715050803333},{"path":"D:\\workspace\\code\\vscode-projects\\data-visualization\\node_modules\\vue-loader\\lib\\index.js","mtime":1715050800376}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQouZWNoYXJ0IHsNCiAgaGVpZ2h0OiA0LjVyZW07DQp9DQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6PA;AACA;AACA","file":"index.vue","sourceRoot":"src/components/map","sourcesContent":["<template>\r\n  <div class=\"echart\" ref=\"mapRef\" id=\"map\"></div>\r\n</template>\r\n\r\n<script>\r\nimport chinaCityJson from \"./china-cities.json\";\r\nimport resizeMixins from \"@/utils/resizeMixins\";\r\n\r\nexport default {\r\n  name: \"index\",\r\n  mixins: [resizeMixins],\r\n  data() {\r\n    return {\r\n      data: [\r\n        { name: \"上海\", value: 38701 },\r\n        { name: \"北京\", value: 36103 },\r\n        { name: \"深圳\", value: 27670 },\r\n        { name: \"广州\", value: 25019 },\r\n        { name: \"重庆\", value: 25003 },\r\n        { name: \"苏州\", value: 20171 },\r\n        { name: \"成都\", value: 17717 },\r\n        { name: \"杭州\", value: 16106 },\r\n        { name: \"武汉\", value: 15616 },\r\n        { name: \"南京\", value: 14818 },\r\n        { name: \"天津\", value: 14084 },\r\n        { name: \"宁波\", value: 12409 },\r\n        { name: \"青岛\", value: 12401 },\r\n        { name: \"无锡\", value: 12370 },\r\n        { name: \"长沙\", value: 12143 },\r\n        { name: \"郑州\", value: 12003 },\r\n        { name: \"佛山\", value: 10816 },\r\n        { name: \"泉州\", value: 10159 },\r\n        { name: \"济南\", value: 10141 },\r\n        { name: \"合肥\", value: 10046 },\r\n        { name: \"南通\", value: 10036 },\r\n        { name: \"西安\", value: 10020 },\r\n        { name: \"福州\", value: 10020 },\r\n        { name: \"东莞\", value: 9650 },\r\n        { name: \"烟台\", value: 7816 },\r\n        { name: \"常州\", value: 7805 },\r\n        { name: \"徐州\", value: 7320 },\r\n        { name: \"唐山\", value: 7211 },\r\n        { name: \"大连\", value: 7030 },\r\n        { name: \"温州\", value: 6871 },\r\n        { name: \"昆明\", value: 6734 },\r\n        { name: \"长春\", value: 6638 },\r\n        { name: \"沈阳\", value: 6572 },\r\n        { name: \"厦门\", value: 6384 },\r\n        { name: \"扬州\", value: 6048 },\r\n        { name: \"绍兴\", value: 6001 },\r\n        { name: \"盐城\", value: 5953 },\r\n        { name: \"石家庄\", value: 5935 },\r\n        { name: \"潍坊\", value: 5872 },\r\n        { name: \"南昌\", value: 5746 },\r\n        { name: \"嘉兴\", value: 5510 },\r\n        { name: \"泰州\", value: 5313 },\r\n        { name: \"台州\", value: 5263 },\r\n        { name: \"哈尔滨\", value: 5184 },\r\n        { name: \"洛阳\", value: 5128 },\r\n        { name: \"临沂\", value: 4805 },\r\n        { name: \"漳州\", value: 4747 },\r\n        { name: \"南宁\", value: 4726 },\r\n        { name: \"金华\", value: 4704 },\r\n        { name: \"襄阳\", value: 4602 },\r\n        { name: \"济宁\", value: 4494 },\r\n        { name: \"贵阳\", value: 4312 },\r\n        { name: \"宜昌\", value: 4261 },\r\n        { name: \"惠州\", value: 4222 },\r\n        { name: \"镇江\", value: 4220 },\r\n        { name: \"太原\", value: 4153 },\r\n        { name: \"榆林\", value: 4090 },\r\n        { name: \"淮安\", value: 4025 },\r\n        { name: \"岳阳\", value: 4002 },\r\n        { name: \"南阳\", value: 3926 },\r\n        { name: \"芜湖\", value: 3753 },\r\n        { name: \"常德\", value: 3749 },\r\n        { name: \"遵义\", value: 3720 },\r\n        { name: \"沧州\", value: 3700 },\r\n        { name: \"淄博\", value: 3674 },\r\n        { name: \"赣州\", value: 3645 },\r\n        { name: \"邯郸\", value: 3637 },\r\n        { name: \"鄂尔多斯\", value: 3534 },\r\n        { name: \"衡阳\", value: 3509 },\r\n        { name: \"乌鲁木齐\", value: 3500 },\r\n        { name: \"菏泽\", value: 3483 },\r\n        { name: \"珠海\", value: 3482 },\r\n        { name: \"许昌\", value: 3449 },\r\n        { name: \"保定\", value: 3353 },\r\n        { name: \"廊坊\", value: 3301 },\r\n        { name: \"茂名\", value: 3279 },\r\n        { name: \"连云港\", value: 3277 },\r\n        { name: \"周口\", value: 3267 },\r\n        { name: \"宿迁\", value: 3262 },\r\n        { name: \"九江\", value: 3241 },\r\n        { name: \"湖州\", value: 3201 },\r\n        { name: \"江门\", value: 3201 },\r\n        { name: \"柳州\", value: 3177 },\r\n        { name: \"中山\", value: 3152 },\r\n        { name: \"株洲\", value: 3106 },\r\n        { name: \"湛江\", value: 3100 },\r\n        { name: \"德州\", value: 3079 },\r\n        { name: \"滁州\", value: 3032 },\r\n        { name: \"威海\", value: 3018 },\r\n        { name: \"新乡\", value: 3015 },\r\n        { name: \"绵阳\", value: 3010 },\r\n        { name: \"东营\", value: 2981 },\r\n        { name: \"曲靖\", value: 2959 },\r\n        { name: \"商丘\", value: 2925 },\r\n        { name: \"兰州\", value: 2887 },\r\n        { name: \"龙岩\", value: 2871 },\r\n        { name: \"驻马店\", value: 2859 },\r\n        { name: \"信阳\", value: 2806 },\r\n        { name: \"阜阳\", value: 2805 },\r\n        { name: \"宜宾\", value: 2802 },\r\n      ],\r\n      chart: null,\r\n    };\r\n  },\r\n  watch: {\r\n    options: {\r\n      handler(options) {\r\n        // 设置true清空echart缓存\r\n        this.chart.setOption(options, true);\r\n      },\r\n      deep: true,\r\n    },\r\n  },\r\n  mounted() {\r\n    this.initChart();\r\n    this.handleMapRandomSelect();\r\n  },\r\n  beforeDestroy() {\r\n    if (this.timer) {\r\n      clearInterval(this.intervalId);\r\n    }\r\n  },\r\n  methods: {\r\n    initChart() {\r\n      let that = this;\r\n      this.chart = this.$echarts.init(document.getElementById(\"map\"), \"shine\");\r\n      this.$echarts.registerMap(\"china\", chinaCityJson);\r\n      // 指定图表的配置项和数据\r\n      let options = {\r\n        title: {\r\n          text: \"2023年中国城市GDP百强图\",\r\n          subtext: \"21世纪经济报道\",\r\n          sublink:\r\n            \"https://baijiahao.baidu.com/s?id=1696189263765607901&wfr=spider&for=pc\",\r\n          textStyle: {\r\n            color: \"#377ee5\",\r\n          },\r\n          subtextStyle: {\r\n            color: \"#c7d5d9\",\r\n          },\r\n        },\r\n        tooltip: {\r\n          textStyle: {\r\n            fontSize: \"14px\",\r\n          },\r\n          formatter: function(data) {\r\n            if (!isNaN(data.value)) {\r\n              return data.name + \"<br/>\" + data.value + \"亿元\";\r\n            } else {\r\n              return data.name;\r\n            }\r\n          },\r\n        },\r\n        visualMap: {\r\n          orient: \"horizontal\",\r\n          min: 2800,\r\n          max: 38800,\r\n          text: [\"GDP(亿元)\"],\r\n          realtime: false,\r\n          calculable: true,\r\n          inRange: {\r\n            color: [\"lightskyblue\", \"yellow\", \"orangered\"],\r\n          },\r\n          textStyle: {\r\n            color: \"#fff\",\r\n          },\r\n        },\r\n        series: [\r\n          {\r\n            name: \"2023年中国城市GDP百强榜\",\r\n            type: \"map\",\r\n            roam: true,\r\n            map: \"china\",\r\n            itemStyle: {\r\n              areaColor: \"#1f8bcb\",\r\n              borderColor: \"#739af5\",\r\n              borderWidth: 1,\r\n            },\r\n            emphasis: {\r\n              label: {\r\n                show: false,\r\n              },\r\n              itemStyle: {\r\n                areaColor: \"#f59a05\",\r\n              },\r\n            },\r\n            data: [...this.data],\r\n          },\r\n        ],\r\n      };\r\n      this.chart.setOption(options, true);\r\n    },\r\n    // 开启定时器\r\n    startInterval() {\r\n      if (this.intervalId !== null) {\r\n        clearInterval(this.intervalId);\r\n      }\r\n      this.intervalId = setInterval(() => {\r\n        this.reSelectMapRandomArea();\r\n      }, 2000);\r\n    },\r\n    // 重新随机选中地图区域\r\n    reSelectMapRandomArea() {\r\n      this.$nextTick(() => {\r\n        let index = Math.floor(Math.random() * this.data.length);\r\n        this.chart.dispatchAction({\r\n          type: \"showTip\",\r\n          seriesIndex: 0,\r\n          dataIndex: index,\r\n        });\r\n        this.chart.dispatchAction({\r\n          type: \"select\",\r\n          seriesIndex: 0,\r\n          dataIndex: index,\r\n        });\r\n      });\r\n    },\r\n    handleMapRandomSelect() {\r\n      this.$nextTick(() => {\r\n        setTimeout(() => {\r\n          this.reSelectMapRandomArea();\r\n        }, 0);\r\n        // 移入区域，清除定时器、取消之前选中并选中当前\r\n        this.chart.on(\"mouseover\", (params) => {\r\n          clearInterval(this.intervalId);\r\n        });\r\n        // 移出区域重新随机选中地图区域，并开启定时器\r\n        this.chart.on(\"globalout\", () => {\r\n          this.reSelectMapRandomArea();\r\n          this.startInterval();\r\n        });\r\n        this.startInterval();\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.echart {\r\n  height: 4.5rem;\r\n}\r\n</style>\r\n"]}]}